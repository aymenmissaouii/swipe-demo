<ion-content [fullscreen]="true">
  <div class="onboarding-container">
    <!-- Skip button -->
    <button class="skip-btn" (click)="onSkip()">Skip</button>

    <!-- Swiper slides -->
    <swiper-container #swiper [pagination]="true" [keyboard]="true" class="onboarding-swiper" dir="ltr">

      @for (slide of slides; track $index; let last = $last) {
      <swiper-slide>
        <div class="slide-content">
          <div class="image-container">
            <img [src]="slide.image" [alt]="slide.title"
              onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
            <div class="fallback-icon">
              <!-- If we want dynamic icons we need to ensure they are registered or use ion-icon with binding -->
              <ion-icon [name]="slide.icon"></ion-icon>
            </div>
          </div>
          <div class="text-content">
            <h2>{{ slide.title }}</h2>
            <p class="subtitle">{{ slide.subtitle }}</p>
            <p class="description">
              {{ slide.description }}
            </p>

            <!-- Start button on last slide -->
            @if (last) {
            <button class="start-btn" (click)="onStart()">
              <span>Get Started</span>
              <ion-icon name="arrow-back" style="transform: rotate(180deg);"></ion-icon>
            </button>
            }
          </div>
        </div>
      </swiper-slide>
      }

    </swiper-container>

    <!-- Navigation buttons (for non-last slides) -->
    @if (!isLastSlide) {
    <div class="nav-buttons">
      <button class="next-btn" (click)="next()">
        <ion-icon name="arrow-back" style="transform: rotate(180deg);"></ion-icon>
      </button>
    </div>
    }
  </div>
</ion-content>